import{d as $,r as m,C as B,e as a,o as r,b as s,u as o,m as I,w as f,a as i,F as n,g as l,i as g,c as k,f as b,n as N,l as T}from"./app-BcwI-xJi.js";import{A as U}from"./AuthenticationCard-WsoTKnG-.js";import{_ as F}from"./AuthenticationCardLogo.vue_vue_type_script_setup_true_lang-Cxy1Ja9Z.js";import{_ as x,a as C}from"./TextInput.vue_vue_type_script_setup_true_lang-DT3gv-hJ.js";import{_ as V}from"./InputLabel.vue_vue_type_script_setup_true_lang-DwjJThu-.js";import{_ as A}from"./PrimaryButton.vue_vue_type_script_setup_true_lang-DDOSM63m.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"mb-4 text-sm text-gray-600"},R={key:0},j={key:1},z={class:"mt-4 flex items-center justify-end"},J=$({__name:"TwoFactorChallenge",setup(E){const c=m(!1),e=B({code:"",recovery_code:""}),y=m(null),p=m(null);async function w(){var u,t;c.value=!c.value,await T(),c.value?((u=y.value)==null||u.focus(),e.code=""):((t=p.value)==null||t.focus(),e.recovery_code="")}function h(){e.post(route("two-factor.login"))}return(u,t)=>(r(),a(n,null,[s(o(I),{title:"Two-factor Confirmation"}),s(U,null,{logo:f(()=>[s(F)]),default:f(()=>{var _,v;return[i("div",P,[c.value?(r(),a(n,{key:1},[l(" Please confirm access to your account by entering one of your emergency recovery codes. ")],64)):(r(),a(n,{key:0},[l(" Please confirm access to your account by entering the authentication code provided by your authenticator application. ")],64))]),i("form",{onSubmit:g(h,["prevent"])},[c.value?(r(),a("div",j,[s(V,{for:"recovery_code",value:"Recovery Code"}),s(x,{id:"recovery_code",ref_key:"recoveryCodeInput",ref:y,modelValue:o(e).recovery_code,"onUpdate:modelValue":t[1]||(t[1]=d=>o(e).recovery_code=d),type:"text",class:"mt-1 block w-full",autocomplete:"one-time-code"},null,8,["modelValue"]),(v=o(e).errors)!=null&&v.recovery_code?(r(),k(C,{key:0,class:"mt-2",message:o(e).errors.recovery_code},null,8,["message"])):b("",!0)])):(r(),a("div",R,[s(V,{for:"code",value:"Code"}),s(x,{id:"code",ref_key:"codeInput",ref:p,modelValue:o(e).code,"onUpdate:modelValue":t[0]||(t[0]=d=>o(e).code=d),type:"text",inputmode:"numeric",class:"mt-1 block w-full",autofocus:"",autocomplete:"one-time-code"},null,8,["modelValue"]),(_=o(e).errors)!=null&&_.code?(r(),k(C,{key:0,class:"mt-2",message:o(e).errors.code},null,8,["message"])):b("",!0)])),i("div",z,[i("button",{type:"button",class:"cursor-pointer text-sm text-gray-600 underline hover:text-gray-900",onClick:g(w,["prevent"])},[c.value?(r(),a(n,{key:1},[l(" Use an authentication code ")],64)):(r(),a(n,{key:0},[l(" Use a recovery code ")],64))]),s(A,{type:"submit",class:N(["ms-4",{"opacity-25":o(e).processing}]),disabled:o(e).processing},{default:f(()=>t[2]||(t[2]=[l(" Log in ")])),_:1},8,["class","disabled"])])],32)]}),_:1})],64))}});export{J as default};
