import{_ as F}from"./AppLayout.vue_vue_type_script_setup_true_lang-DzEFxBkw.js";import{_ as T}from"./PageContainer.vue_vue_type_script_setup_true_lang-CyEhPB0L.js";import{_ as Y,v as x}from"./RestaurantTable.vue_vue_type_script_setup_true_lang-SWojSqk-.js";import{d as k,r as f,j,G as H,x as I,q as l,c as u,o as n,w as p,b as _,e as v,h as w,F as P}from"./app-C3xBQ3ZE.js";import"./SecondaryButton.vue_vue_type_script_setup_true_lang-Dmu9JfD_.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./TextLink.vue_vue_type_script_setup_true_lang-LunYTnvm.js";const K=k({__name:"RestaurantExample",setup(G){const r=f(null),i=f(null);j(()=>({width:800,height:800}));function $(o){if(console.log("$event.target"),console.log(o.target),r.value){console.log("mainGroupProxy.value:"),console.log(r.value[0]);const a=r.value[0].getNode();console.log(`X position: ${a.getX()}`)}}function q(o){if(console.log("$event.target"),console.log(o.target),i.value){const a=i.value[0].getKonvaNode();console.log(`X position: ${a.getX()}`)}}const D={"square-4":{shape:"rect",width:200,height:200,chairPositions:[{x:0,y:.5,angle:0},{x:.5,y:0,angle:90},{x:1,y:.5,angle:180},{x:.5,y:1,angle:270}]},"square-6":{shape:"rect",width:200,height:100,chairPositions:[{x:0,y:.5,angle:0},{x:.33,y:0,angle:90},{x:.66,y:0,angle:90},{x:1,y:.5,angle:180},{x:.33,y:1,angle:270},{x:.66,y:1,angle:270}]},"circle-4":{shape:"circle",radius:120,chairPositions:[{x:0,y:.5,angle:0},{x:.5,y:0,angle:90},{x:1,y:.5,angle:180},{x:.5,y:1,angle:270}]}},g=f([]),E={tables:[{shape:"circle-4",x:800,y:800},{shape:"square-4",x:800,y:300},{shape:"square-4",x:300,y:800},{shape:"square-6",x:1300,y:800},{shape:"square-4",x:800,y:1300}]};function X(o,a,h){const s=x(),t=D[o],d=t.chairPositions.map(e=>{const y=t.shape==="rect"?t.width+60:t.radius*2+60,m=t.shape==="rect"?t.height+60:t.radius*2+60,c={x:-y/2,y:-m/2,width:y,height:m},B=c.x+c.width*e.x,N=c.y+c.height*e.y;return{id:x(),position:{x:B,y:N},angle:e.angle,visible:!0,parentId:s}});return{id:s,position:{x:a,y:h},rotation:0,diet:"Omnivore",tableType:o,focus:!1,chairs:d}}function C(){g.value=E.tables.map(o=>X(o.shape,o.x,o.y))}const R=H({width:500,height:500,scaleX:.3,scaleY:.3});return I(()=>{C()}),(o,a)=>{const h=l("v-rect"),s=l("v-group"),t=l("v-layer"),d=l("v-stage");return n(),u(d,{config:R},{default:p(()=>[_(t,null,{default:p(()=>[(n(!0),v(P,null,w(g.value,e=>(n(),u(s,{id:e.id,ref_for:!0,ref_key:"mainGroupProxy",ref:r,key:e.id,position:e.position,rotation:e.rotation,diet:e.diet,focus:e.focus,"table-type":e.tableType,chairs:e.chairs,draggable:"true",onDragend:$},{default:p(()=>[_(h,{x:100,y:100,width:50,height:50,stroke:"silver","stroke-width":"4",fill:"green"})]),_:2},1032,["id","position","rotation","diet","focus","table-type","chairs"]))),128)),(n(!0),v(P,null,w(g.value,e=>(n(),u(Y,{id:e.id,ref_for:!0,ref_key:"mainGroupProxy2",ref:i,key:e.id,position:e.position,rotation:e.rotation,diet:e.diet,focus:e.focus,"table-type":e.tableType,chairs:e.chairs,onDragend:q},null,8,["id","position","rotation","diet","focus","table-type","chairs"]))),128))]),_:1})]),_:1},8,["config"])}}}),J=k({layout:F,__name:"RestaurantExamplePage",setup(G){return(r,i)=>(n(),u(T,{title:"RestaurantExample","show-footer":!1},{default:p(()=>[_(K)]),_:1}))}});export{J as default};
